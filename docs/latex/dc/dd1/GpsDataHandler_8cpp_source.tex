\doxysubsection{Gps\+Data\+Handler.\+cpp}
\hypertarget{GpsDataHandler_8cpp_source}{}\label{GpsDataHandler_8cpp_source}\mbox{\hyperlink{GpsDataHandler_8cpp}{Id≈∫ do dokumentacji tego pliku.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{GpsDataHandler_8h}{GpsDataHandler.h}}"{}}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <QVBoxLayout>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <QWebEngineView>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <QWebEnginePage>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00006}00006\ \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00016}\mbox{\hyperlink{classGPSDataHandler_a796526492a3842e3843f1066f661476a}{00016}}\ \mbox{\hyperlink{classGPSDataHandler_a796526492a3842e3843f1066f661476a}{GPSDataHandler::GPSDataHandler}}(QWidget\ *parent)}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00017}00017\ \ \ \ \ :\ QWidget(parent)\ \{}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00019}00019\ \ \ \ \ \mbox{\hyperlink{classGPSDataHandler_a268423536fd56853f7c28d0aa634b52e}{mapView}}\ =\ \textcolor{keyword}{new}\ QWebEngineView(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00020}00020\ \ \ \ \ \mbox{\hyperlink{classGPSDataHandler_a268423536fd56853f7c28d0aa634b52e}{mapView}}-\/>setSizePolicy(QSizePolicy::Expanding,\ QSizePolicy::Expanding);}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00022}00022\ \ \ \ \ \textcolor{comment}{//\ Kod\ HTML\ i\ JavaScript\ dla\ mapy\ Leaflet\ osadzony\ jako\ C++\ Raw\ String\ Literal}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00023}00023\ \ \ \ \ QString\ mapHtml\ =\ R\textcolor{stringliteral}{"{}(}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ <!DOCTYPE\ html>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ <html>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ <head>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ <title>OpenStreetMap</title>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ <meta\ name="{}viewport"{}\ content="{}width=device-\/width,\ initial-\/scale=1.0"{}>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ <link\ rel="{}stylesheet"{}\ href="{}https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"{}\ />}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ <script\ src="{}https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"{}></script>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00031}00031\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ <style>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ html,\ body,\ \#map\ \{}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00033}00033\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ height:\ 100\%;}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ margin:\ 0;}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ padding:\ 0;}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ background-\/color:\ lightgray;\ /*\ Dodano\ t≈Ço\ dla\ lepszej\ widoczno≈õci\ podczas\ ≈Çadowania\ */}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00037}00037\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00038}00038\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ </style>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00039}00039\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ </head>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00040}00040\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ <body>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00041}00041\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ <div\ id="{}map"{}></div>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00042}00042\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ <script>}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00043}00043\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ console.log("{}‚úÖ\ Leaflet\ map\ loaded"{});}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00044}00044\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00045}00045\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ Inicjalizacja\ mapy\ Leaflet,\ poczƒÖtkowy\ widok\ ustawiony\ na\ [0,\ 0]}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00046}00046\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ map\ =\ L.map('map').setView([0,\ 0],\ 15);\ //\ PoczƒÖtkowy\ zoom\ ustawiony\ na\ 15}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00047}00047\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ Dodanie\ warstwy\ kafelk√≥w\ OpenStreetMap}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ L.tileLayer('https://\{s\}.tile.openstreetmap.org/\{z\}/\{x\}/\{y\}.png',\ \{}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ maxZoom:\ 19,}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00051}00051\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ attribution:\ '¬©\ OpenStreetMap\ contributors'}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00052}\mbox{\hyperlink{GpsDataHandler_8cpp_afab0519bf46982ee64f37d5cc517f4ba}{00052}}\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}).addTo(map);}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00053}00053\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ Utworzenie\ markera\ na\ poczƒÖtkowej\ pozycji\ [0,\ 0]}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00055}\mbox{\hyperlink{GpsDataHandler_8cpp_a156398e72764a55c3a769880d1506616}{00055}}\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ marker\ =\ L.marker([0,\ 0]).addTo(map);}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00056}00056\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00062}\mbox{\hyperlink{GpsDataHandler_8cpp_ad88ca99168222a54416d1ab6bb758278}{00062}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ function\ updateMarker(lat,\ lon)\ \{}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ console.log("{}üìç\ updateMarker:"{},\ lat,\ lon);\ //\ Logowanie\ do\ konsoli\ przeglƒÖdarki}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ marker.setLatLng([lat,\ lon]);\ \ \ \ \ \ \ \ \ \ //\ Ustawienie\ nowej\ pozycji\ markera}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ map.setView([lat,\ lon],\ map.getZoom());\ //\ Ustawienie\ widoku\ mapy\ na\ nowƒÖ\ pozycjƒô\ (z\ zachowaniem\ zooma)}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ Udostƒôpnienie\ funkcji\ updateMarker\ globalnie\ w\ oknie\ przeglƒÖdarki}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00069}\mbox{\hyperlink{GpsDataHandler_8cpp_a3b58891883b530ca5d3f42d6fe07ca47}{00069}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ window.updateMarker\ =\ updateMarker;}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ </script>}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00071}00071\ \ \ \ \ \ \ \ \ </body>}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00072}00072\ \ \ \ \ \ \ \ \ </html>}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00073}00073\ \ \ \ \ )"{};}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00075}00075\ \ \ \ \ \textcolor{comment}{//\ Ustawienie\ zawarto≈õci\ HTML\ w\ QWebEngineView}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00076}\mbox{\hyperlink{GpsDataHandler_8cpp_ab8abcaf2c441abec930c9e705271ecd1}{00076}}\ \ \ \ \ \mbox{\hyperlink{classGPSDataHandler_a268423536fd56853f7c28d0aa634b52e}{mapView}}-\/>setHtml(mapHtml);}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00078}00078\ \ \ \ \ \textcolor{comment}{//\ Konfiguracja\ layoutu\ dla\ widgetu\ GPSDataHandler}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00079}\mbox{\hyperlink{GpsDataHandler_8cpp_a65bf360b67ee74412f1f2412583e9e6e}{00079}}\ \ \ \ \ \textcolor{keyword}{auto}\ *\mbox{\hyperlink{GpsDataHandler_8cpp_a65bf360b67ee74412f1f2412583e9e6e}{layout}}\ =\ \textcolor{keyword}{new}\ QVBoxLayout(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00080}\mbox{\hyperlink{GpsDataHandler_8cpp_aa7953196f2321b2d553b2ed4bb6c2bff}{00080}}\ \ \ \ \ \mbox{\hyperlink{GpsDataHandler_8cpp_a65bf360b67ee74412f1f2412583e9e6e}{layout}}-\/>addWidget(\mbox{\hyperlink{classGPSDataHandler_a268423536fd56853f7c28d0aa634b52e}{mapView}});\ \textcolor{comment}{//\ Dodanie\ widoku\ mapy\ do\ layoutu}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00081}\mbox{\hyperlink{GpsDataHandler_8cpp_a6fdbe4b1cd8a052d59834fd500c3a42b}{00081}}\ \ \ \ \ \mbox{\hyperlink{GpsDataHandler_8cpp_a65bf360b67ee74412f1f2412583e9e6e}{layout}}-\/>setContentsMargins(0,\ 0,\ 0,\ 0);\ \textcolor{comment}{//\ Usuniƒôcie\ margines√≥w\ layoutu}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00082}\mbox{\hyperlink{GpsDataHandler_8cpp_a73dc53d9f7b09b91218542e33d56342e}{00082}}\ \ \ \ \ \mbox{\hyperlink{GpsDataHandler_8cpp_a73dc53d9f7b09b91218542e33d56342e}{setLayout}}(\mbox{\hyperlink{GpsDataHandler_8cpp_a65bf360b67ee74412f1f2412583e9e6e}{layout}});\ \textcolor{comment}{//\ Ustawienie\ layoutu\ dla\ widgetu}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00083}00083\ \}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00085}00085\ \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00096}\mbox{\hyperlink{classGPSDataHandler_ae459d1a2c8c27d7c65bb24db85b687e4}{00096}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGPSDataHandler_ae459d1a2c8c27d7c65bb24db85b687e4}{GPSDataHandler::updateMarker}}(\textcolor{keywordtype}{float}\ latitude,\ \textcolor{keywordtype}{float}\ longitude)\ \{}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00097}00097\ \ \ \ \ \textcolor{comment}{//\ Przygotowanie\ kodu\ JavaScript\ do\ wykonania}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00098}00098\ \ \ \ \ QString\ jsCode\ =\ QString(\textcolor{stringliteral}{"{}updateMarker(\%1,\ \%2);"{}}).arg(latitude).arg(longitude);}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00099}00099\ \ \ \ \ \textcolor{comment}{//\ Wykonanie\ kodu\ JavaScript\ na\ stronie\ za≈Çadowanej\ w\ mapView}}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00100}00100\ \ \ \ \ \mbox{\hyperlink{classGPSDataHandler_a268423536fd56853f7c28d0aa634b52e}{mapView}}-\/>page()-\/>runJavaScript(jsCode);}
\DoxyCodeLine{\Hypertarget{GpsDataHandler_8cpp_source_l00101}00101\ \}}

\end{DoxyCode}
